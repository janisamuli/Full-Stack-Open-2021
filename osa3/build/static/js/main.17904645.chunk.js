(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{20:function(e,n,t){},40:function(e,n,t){"use strict";t.r(n);var c=t(1),o=t.n(c),r=t(14),a=t.n(r),u=(t(20),t(3)),i=t(15),s=t(0),l=function(e){return Object(s.jsxs)("div",{children:["Filter names: ",Object(s.jsx)("input",{value:e.value,onChange:e.onChange})]})},d=function(e){return Object(s.jsxs)("form",{onSubmit:e.addPerson,children:[Object(s.jsxs)("div",{children:["name: ",Object(s.jsx)("input",{value:e.newName,onChange:e.handlePersonChange})]}),Object(s.jsxs)("div",{children:["number: ",Object(s.jsx)("input",{value:e.newNumber,onChange:e.handleNumberChange})]}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{type:"submit",children:"add"})})]})},b=function(e){return Object(s.jsx)("ul",{children:e.persons.filter((function(n){return n.name.toLowerCase().includes(e.newFiltered.toLowerCase())})).map((function(n){return Object(s.jsxs)("li",{children:[n.name,"   ",n.number,"      ",Object(s.jsx)("button",{onClick:function(){return e.deletePerson(n.name,n.id)},children:"delete"})]},e.persons.id)}))})},j=t(4),h=t.n(j),f="/api/persons",m=function(){return h.a.get(f)},O=function(e){return h.a.post(f,e)},g=function(e,n){return h.a.put("".concat(f,"/").concat(e),n)},p=function(e){return h.a.delete("".concat(f,"/").concat(e))},x=function(e){var n=e.message;return null===n?null:Object(s.jsx)("div",{style:{color:"green",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10},className:"notification",children:n})},v=function(){var e=Object(c.useState)([]),n=Object(u.a)(e,2),t=n[0],o=n[1],r=Object(c.useState)(""),a=Object(u.a)(r,2),j=a[0],h=a[1],f=Object(c.useState)(""),v=Object(u.a)(f,2),w=v[0],C=v[1],S=Object(c.useState)(""),P=Object(u.a)(S,2),N=P[0],k=P[1],y=Object(c.useState)(null),F=Object(u.a)(y,2),T=F[0],D=F[1];Object(c.useEffect)((function(){m().then((function(e){o(e.data)}))}),[]);return Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:" Phonebook"}),Object(s.jsx)(x,{message:T}),Object(s.jsx)(l,{value:N,onChange:function(e){k(e.target.value)}}),Object(s.jsx)("h2",{children:"Add a new"}),Object(s.jsx)(d,{addPerson:function(e){e.preventDefault();var n={name:j,number:w,id:Object(i.a)()},c=t.filter((function(e){return e.name===j})),r=c[0];if(c.length>0)return window.confirm("".concat(j," has been already added to the phonebook. Replace the old number with a new one? "))&&g(r.id,n).then((function(e){o(t.map((function(n){return n.id!==r.id?n:e.data}))),D("Changed the phone number of ".concat(j,".")),setTimeout((function(){D(null)}),5e3)})).catch((function(e){D("".concat(j," has been already deleted from the server.")),setTimeout((function(){D(null)}),5e3),o(t.filter((function(e){return e.name!==j})))})),h(""),void C("");O(n).then((function(e){o(t.concat(e.data)),D("Added ".concat(j)),setTimeout((function(){D(null)}),5e3),h(""),C("")})).catch((function(e){D("".concat(e.response.data.error))}))},newName:j,handlePersonChange:function(e){h(e.target.value)},newNumber:w,handleNumberChange:function(e){C(e.target.value)}}),Object(s.jsx)("h2",{children:"Numbers"}),Object(s.jsx)(b,{persons:t,newFiltered:N,deletePerson:function(e,n){window.confirm("Delete ".concat(e," ?"))&&(p(n),o(t.filter((function(e){return e.id!==n})))),D("Deleted ".concat(e," from phonebook")),setTimeout((function(){D(null)}),5e3)}})]})},w=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,41)).then((function(n){var t=n.getCLS,c=n.getFID,o=n.getFCP,r=n.getLCP,a=n.getTTFB;t(e),c(e),o(e),r(e),a(e)}))};a.a.render(Object(s.jsx)(o.a.StrictMode,{children:Object(s.jsx)(v,{})}),document.getElementById("root")),w()}},[[40,1,2]]]);
//# sourceMappingURL=main.17904645.chunk.js.map